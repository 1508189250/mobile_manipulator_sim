<?xml version="1.0" ?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from mobile_manipulator.urdf.xacro  | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<robot name="mm" xmlns:xacro="http://ros.org/wiki/xacro">
  <!-- I need name mobile base as base_link for navigation, so it will conflict with ur base link if prefix is not set. -->
  <!-- common stuff -->
  <gazebo>
    <plugin filename="libgazebo_ros_control.so" name="ros_control">
      <!--robotNamespace>/mm</robotNamespace-->
      <!--robotSimType>gazebo_ros_control/DefaultRobotHWSim</robotSimType-->
    </plugin>
  </gazebo>
  <!-- ur5 -->
  <!-- mobile base -->
  <material name="black">
    <color rgba="0.0 0.0 0.0 1.0"/>
  </material>
  <material name="blue">
    <color rgba="0.0 0.0 0.8 1.0"/>
  </material>
  <material name="green">
    <color rgba="0.0 0.8 0.0 1.0"/>
  </material>
  <material name="grey">
    <color rgba="0.2 0.2 0.2 1.0"/>
  </material>
  <material name="orange">
    <color rgba="1.0 0.423529411765 0.0392156862745 1.0"/>
  </material>
  <material name="brown">
    <color rgba="0.870588235294 0.811764705882 0.764705882353 1.0"/>
  </material>
  <material name="red">
    <color rgba="0.8 0.0 0.0 1.0"/>
  </material>
  <material name="white">
    <color rgba="1.0 1.0 1.0 1.0"/>
  </material>
  <!-- arm -->
  <link name="arm_base_link">
    <visual>
      <geometry>
        <mesh filename="package://mm_description/meshes/ur5/visual/base.dae"/>
      </geometry>
      <material name="LightGrey">
        <color rgba="0.7 0.7 0.7 1.0"/>
      </material>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://mm_description/meshes/ur5/collision/base.stl"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="4.0"/>
      <origin rpy="0 0 0" xyz="0.0 0.0 0.0"/>
      <inertia ixx="0.00443333156" ixy="0.0" ixz="0.0" iyy="0.00443333156" iyz="0.0" izz="0.0072"/>
    </inertial>
  </link>
  <joint name="arm_shoulder_pan_joint" type="revolute">
    <parent link="arm_base_link"/>
    <child link="arm_shoulder_link"/>
    <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.089159"/>
    <axis xyz="0 0 1"/>
    <limit effort="150.0" lower="-3.14159265" upper="3.14159265" velocity="3.15"/>
    <dynamics damping="0.0" friction="0.0"/>
  </joint>
  <link name="arm_shoulder_link">
    <visual>
      <geometry>
        <mesh filename="package://mm_description/meshes/ur5/visual/shoulder.dae"/>
      </geometry>
      <material name="LightGrey">
        <color rgba="0.7 0.7 0.7 1.0"/>
      </material>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://mm_description/meshes/ur5/collision/shoulder.stl"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="3.7"/>
      <origin rpy="0 0 0" xyz="0.0 0.0 0.0"/>
      <inertia ixx="0.010267495893" ixy="0.0" ixz="0.0" iyy="0.010267495893" iyz="0.0" izz="0.00666"/>
    </inertial>
  </link>
  <joint name="arm_shoulder_lift_joint" type="revolute">
    <parent link="arm_shoulder_link"/>
    <child link="arm_upper_arm_link"/>
    <origin rpy="0.0 1.570796325 0.0" xyz="0.0 0.13585 0.0"/>
    <axis xyz="0 1 0"/>
    <limit effort="150.0" lower="-3.14159265" upper="3.14159265" velocity="3.15"/>
    <dynamics damping="0.0" friction="0.0"/>
  </joint>
  <link name="arm_upper_arm_link">
    <visual>
      <geometry>
        <mesh filename="package://mm_description/meshes/ur5/visual/upperarm.dae"/>
      </geometry>
      <material name="LightGrey">
        <color rgba="0.7 0.7 0.7 1.0"/>
      </material>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://mm_description/meshes/ur5/collision/upperarm.stl"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="8.393"/>
      <origin rpy="0 0 0" xyz="0.0 0.0 0.28"/>
      <inertia ixx="0.22689067591" ixy="0.0" ixz="0.0" iyy="0.22689067591" iyz="0.0" izz="0.0151074"/>
    </inertial>
  </link>
  <joint name="arm_elbow_joint" type="revolute">
    <parent link="arm_upper_arm_link"/>
    <child link="arm_forearm_link"/>
    <origin rpy="0.0 0.0 0.0" xyz="0.0 -0.1197 0.425"/>
    <axis xyz="0 1 0"/>
    <limit effort="150.0" lower="-3.14159265" upper="3.14159265" velocity="3.15"/>
    <dynamics damping="0.0" friction="0.0"/>
  </joint>
  <link name="arm_forearm_link">
    <visual>
      <geometry>
        <mesh filename="package://mm_description/meshes/ur5/visual/forearm.dae"/>
      </geometry>
      <material name="LightGrey">
        <color rgba="0.7 0.7 0.7 1.0"/>
      </material>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://mm_description/meshes/ur5/collision/forearm.stl"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="2.275"/>
      <origin rpy="0 0 0" xyz="0.0 0.0 0.25"/>
      <inertia ixx="0.049443313556" ixy="0.0" ixz="0.0" iyy="0.049443313556" iyz="0.0" izz="0.004095"/>
    </inertial>
  </link>
  <joint name="arm_wrist_1_joint" type="revolute">
    <parent link="arm_forearm_link"/>
    <child link="arm_wrist_1_link"/>
    <origin rpy="0.0 1.570796325 0.0" xyz="0.0 0.0 0.39225"/>
    <axis xyz="0 1 0"/>
    <limit effort="28.0" lower="-3.14159265" upper="3.14159265" velocity="3.2"/>
    <dynamics damping="0.0" friction="0.0"/>
  </joint>
  <link name="arm_wrist_1_link">
    <visual>
      <geometry>
        <mesh filename="package://mm_description/meshes/ur5/visual/wrist1.dae"/>
      </geometry>
      <material name="LightGrey">
        <color rgba="0.7 0.7 0.7 1.0"/>
      </material>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://mm_description/meshes/ur5/collision/wrist1.stl"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="1.219"/>
      <origin rpy="0 0 0" xyz="0.0 0.0 0.0"/>
      <inertia ixx="0.111172755531" ixy="0.0" ixz="0.0" iyy="0.111172755531" iyz="0.0" izz="0.21942"/>
    </inertial>
  </link>
  <joint name="arm_wrist_2_joint" type="revolute">
    <parent link="arm_wrist_1_link"/>
    <child link="arm_wrist_2_link"/>
    <origin rpy="0.0 0.0 0.0" xyz="0.0 0.093 0.0"/>
    <axis xyz="0 0 1"/>
    <limit effort="28.0" lower="-3.14159265" upper="3.14159265" velocity="3.2"/>
    <dynamics damping="0.0" friction="0.0"/>
  </joint>
  <link name="arm_wrist_2_link">
    <visual>
      <geometry>
        <mesh filename="package://mm_description/meshes/ur5/visual/wrist2.dae"/>
      </geometry>
      <material name="LightGrey">
        <color rgba="0.7 0.7 0.7 1.0"/>
      </material>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://mm_description/meshes/ur5/collision/wrist2.stl"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="1.219"/>
      <origin rpy="0 0 0" xyz="0.0 0.0 0.0"/>
      <inertia ixx="0.111172755531" ixy="0.0" ixz="0.0" iyy="0.111172755531" iyz="0.0" izz="0.21942"/>
    </inertial>
  </link>
  <joint name="arm_wrist_3_joint" type="revolute">
    <parent link="arm_wrist_2_link"/>
    <child link="arm_wrist_3_link"/>
    <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.09465"/>
    <axis xyz="0 1 0"/>
    <limit effort="28.0" lower="-3.14159265" upper="3.14159265" velocity="3.2"/>
    <dynamics damping="0.0" friction="0.0"/>
  </joint>
  <link name="arm_wrist_3_link">
    <visual>
      <geometry>
        <mesh filename="package://mm_description/meshes/ur5/visual/wrist3.dae"/>
      </geometry>
      <material name="LightGrey">
        <color rgba="0.7 0.7 0.7 1.0"/>
      </material>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://mm_description/meshes/ur5/collision/wrist3.stl"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.1879"/>
      <origin rpy="0 0 0" xyz="0.0 0.0 0.0"/>
      <inertia ixx="0.0171364731454" ixy="0.0" ixz="0.0" iyy="0.0171364731454" iyz="0.0" izz="0.033822"/>
    </inertial>
  </link>
  <joint name="arm_ee_fixed_joint" type="fixed">
    <parent link="arm_wrist_3_link"/>
    <child link="arm_ee_link"/>
    <origin rpy="0.0 0.0 1.570796325" xyz="0.0 0.0823 0.0"/>
  </joint>
  <link name="arm_ee_link">
    <collision>
      <geometry>
        <box size="0.01 0.01 0.01"/>
      </geometry>
      <origin rpy="0 0 0" xyz="-0.01 0 0"/>
    </collision>
  </link>
  <transmission name="arm_shoulder_pan_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="arm_shoulder_pan_joint">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="arm_shoulder_pan_motor">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="arm_shoulder_lift_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="arm_shoulder_lift_joint">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="arm_shoulder_lift_motor">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="arm_elbow_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="arm_elbow_joint">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="arm_elbow_motor">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="arm_wrist_1_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="arm_wrist_1_joint">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="arm_wrist_1_motor">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="arm_wrist_2_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="arm_wrist_2_joint">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="arm_wrist_2_motor">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="arm_wrist_3_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="arm_wrist_3_joint">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="arm_wrist_3_motor">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <link name="arm_base"/>
  <joint name="arm_base_link-base_fixed_joint" type="fixed">
    <!-- NOTE: this rotation is only needed as long as base_link itself is
                 not corrected wrt the real robot (ie: rotated over 180
                 degrees)
      -->
    <origin rpy="0 0 -3.14159265" xyz="0 0 0"/>
    <parent link="arm_base_link"/>
    <child link="arm_base"/>
  </joint>
  <link name="arm_tool0"/>
  <joint name="arm_wrist_3_link-tool0_fixed_joint" type="fixed">
    <origin rpy="-1.570796325 0 0" xyz="0 0.0823 0"/>
    <parent link="arm_wrist_3_link"/>
    <child link="arm_tool0"/>
  </joint>
  <link name="base_link">
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0.08"/>
      <geometry>
        <mesh filename="package://mm_description/meshes/mobile_base/mobile_base_collision.dae"/>
      </geometry>
    </collision>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0.08"/>
      <geometry>
        <mesh filename="package://mm_description/meshes/mobile_base/mobile_base.dae"/>
      </geometry>
    </visual>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="137.35"/>
      <inertia ixx="12.377" ixy="0.169" ixz="1.173" iyy="17.233" iyz="0.402" izz="13.446"/>
    </inertial>
  </link>
  <joint name="base_link_2_wheel1" type="fixed">
    <parent link="base_link"/>
    <child link="wheel1"/>
    <origin rpy="0 0 0" xyz="0.35 0.265 0.1"/>
    <!--axis xyz="0 1 0" />
      <dynamics damping="0.2" /-->
  </joint>
  <link name="wheel1">
    <collision>
      <origin rpy="0 0 0" xyz="0 -0.04 0"/>
      <geometry>
        <mesh filename="package://mm_description/meshes/mobile_base/wheel.dae"/>
      </geometry>
    </collision>
    <visual>
      <origin rpy="0 0 0" xyz="0 -0.04 0"/>
      <geometry>
        <mesh filename="package://mm_description/meshes/mobile_base/wheel.dae"/>
      </geometry>
    </visual>
    <inertial>
      <origin rpy="0 0 0" xyz="0 -0.04 0"/>
      <mass value="3.519"/>
      <inertia ixx="0.016" ixy="0" ixz="0" iyy="0.017" iyz="0" izz="0.016"/>
    </inertial>
  </link>
  <joint name="base_link_2_wheel2" type="fixed">
    <parent link="base_link"/>
    <child link="wheel2"/>
    <origin rpy="0 0 0" xyz="-0.35 0.265 0.1"/>
    <!--axis xyz="0 1 0" />
      <dynamics damping="0.2" /-->
  </joint>
  <link name="wheel2">
    <collision>
      <origin rpy="0 0 0" xyz="0 -0.04 0"/>
      <geometry>
        <mesh filename="package://mm_description/meshes/mobile_base/wheel.dae"/>
      </geometry>
    </collision>
    <visual>
      <origin rpy="0 0 0" xyz="0 -0.04 0"/>
      <geometry>
        <mesh filename="package://mm_description/meshes/mobile_base/wheel.dae"/>
      </geometry>
    </visual>
    <inertial>
      <origin rpy="0 0 0" xyz="0 -0.04 0"/>
      <mass value="3.519"/>
      <inertia ixx="0.016" ixy="0" ixz="0" iyy="0.017" iyz="0" izz="0.016"/>
    </inertial>
  </link>
  <joint name="base_link_2_wheel3" type="fixed">
    <parent link="base_link"/>
    <child link="wheel3"/>
    <origin rpy="0 0 0" xyz="-0.35 -0.265 0.1"/>
    <!--axis xyz="0 1 0" />
      <dynamics damping="0.2" /-->
  </joint>
  <link name="wheel3">
    <collision>
      <origin rpy="0 0 0" xyz="0 -0.04 0"/>
      <geometry>
        <mesh filename="package://mm_description/meshes/mobile_base/wheel.dae"/>
      </geometry>
    </collision>
    <visual>
      <origin rpy="0 0 0" xyz="0 -0.04 0"/>
      <geometry>
        <mesh filename="package://mm_description/meshes/mobile_base/wheel.dae"/>
      </geometry>
    </visual>
    <inertial>
      <origin rpy="0 0 0" xyz="0 -0.04 0"/>
      <mass value="3.519"/>
      <inertia ixx="0.016" ixy="0" ixz="0" iyy="0.017" iyz="0" izz="0.016"/>
    </inertial>
  </link>
  <joint name="base_link_2_wheel4" type="fixed">
    <parent link="base_link"/>
    <child link="wheel4"/>
    <origin rpy="0 0 0" xyz="0.35 -0.265 0.1"/>
    <!--axis xyz="0 1 0" />
      <dynamics damping="0.2" /-->
  </joint>
  <link name="wheel4">
    <collision>
      <origin rpy="0 0 0" xyz="0 -0.04 0"/>
      <geometry>
        <mesh filename="package://mm_description/meshes/mobile_base/wheel.dae"/>
      </geometry>
    </collision>
    <visual>
      <origin rpy="0 0 0" xyz="0 -0.04 0"/>
      <geometry>
        <mesh filename="package://mm_description/meshes/mobile_base/wheel.dae"/>
      </geometry>
    </visual>
    <inertial>
      <origin rpy="0 0 0" xyz="0 -0.04 0"/>
      <mass value="3.519"/>
      <inertia ixx="0.016" ixy="0" ixz="0" iyy="0.017" iyz="0" izz="0.016"/>
    </inertial>
  </link>
  <gazebo reference="base_hokuyo_link">
    <sensor name="base_hokuyo" type="ray">
      <always_on>true</always_on>
      <update_rate>50</update_rate>
      <pose>0 0 0 0 0 0</pose>
      <visualize>false</visualize>
      <ray>
        <scan>
          <horizontal>
            <samples>150</samples>
            <resolution>1.0</resolution>
            <min_angle>-1.57</min_angle>
            <max_angle>1.57</max_angle>
          </horizontal>
        </scan>
        <range>
          <min>0.05</min>
          <max>10.6</max>
          <resolution>0.36</resolution>
        </range>
      </ray>
      <plugin filename="libgazebo_ros_laser.so" name="gazebo_ros_base_hokuyo_controller">
        <gaussianNoise>0.005</gaussianNoise>
        <alwaysOn>true</alwaysOn>
        <updateRate>50</updateRate>
        <topicName>base_scan</topicName>
        <frameName>/base_hokuyo_link</frameName>
      </plugin>
    </sensor>
  </gazebo>
  <gazebo>
    <plugin filename="libgazebo_ros_planar_move.so" name="base_controller">
      <commandTopic>cmd_vel</commandTopic>
      <odometryTopic>odom</odometryTopic>
      <odometryFrame>odom</odometryFrame>
      <odometryRate>100.0</odometryRate>
      <robotBaseFrame>base_link</robotBaseFrame>
    </plugin>
  </gazebo>
  <joint name="base_link_2_base_hokuyo_link" type="fixed">
    <parent link="base_link"/>
    <child link="base_hokuyo_link"/>
    <origin rpy="0 0 0" xyz="0.56 0 0.315"/>
  </joint>
  <link name="base_hokuyo_link">
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0.005"/>
      <geometry>
        <box size="0.05 0.05 0.08"/>
      </geometry>
    </collision>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://mm_description/meshes/mobile_base/hokuyo.dae"/>
      </geometry>
    </visual>
    <inertial>
      <mass value="1e-5"/>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <inertia ixx="1e-6" ixy="0" ixz="0" iyy="1e-6" iyz="0" izz="1e-6"/>
    </inertial>
  </link>
  <!--
  <link name="world" />

  <joint name="world_2_base_link" type="fixed">
    <parent link="world" />
    <child link = "base_link" />
    <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0" />
  </joint>
  -->
  <joint name="base_link_2_arm_base_link" type="fixed">
    <parent link="base_link"/>
    <child link="arm_base_link"/>
    <origin rpy="0 0 -1.5708" xyz="0.40 0 0.823"/>
  </joint>
  <link name="xtion_link">
    <inertial>
      <mass value="1e-5"/>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <inertia ixx="1e-6" ixy="0" ixz="0" iyy="1e-6" iyz="0" izz="1e-6"/>
    </inertial>
    <visual>
      <origin rpy="1.57 0 1.57" xyz="0.02 -0.03 0"/>
      <geometry>
        <mesh filename="package://mm_description/meshes/mobile_base/asus_xtion_pro_live_camera.dae" scale="0.001 0.001 0.001"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="1.57 0 1.57" xyz="0.02 -0.03 0"/>
      <geometry>
        <mesh filename="package://mm_description/meshes/mobile_base/asus_xtion_pro_live_camera.dae" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  <joint name="arm_base_link_2_xtion_link" type="fixed">
    <parent link="arm_base_link"/>
    <child link="xtion_link"/>
    <origin rpy="-0.369 0.825 1.119" xyz="-0.3541575 0.1507695 0.779517"/>
  </joint>
</robot>

